{% extends 'base.html' %}

{% block title %}Modifier Patient{% endblock %}

{% block content %}
<div style="max-width:480px; margin:2rem auto; padding:1rem; background:#fff; border-radius:6px; box-shadow:0 1px 4px rgba(0,0,0,0.1);">
  <h2 style="margin-bottom:1rem; color:#2F5597;">Modifier le patient</h2>

  <!-- Formulaire de modification -->
  <form action="{{ url_for('edit_patient', patient_id=patient['id']) }}"
        method="post"
        style="display:flex; flex-direction:column; gap:1rem;">
    <label>
      Prénom
      <input name="prenom"
             value="{{ patient['prenom'] }}"
             required
             style="width:100%; padding:0.5rem; border:1px solid #ccc; border-radius:4px;">
    </label>
    <label>
      Nom
      <input name="nom"
             value="{{ patient['nom'] }}"
             required
             style="width:100%; padding:0.5rem; border:1px solid #ccc; border-radius:4px;">
    </label>
    <label>
      Date de naissance
      <input type="date" name="dob"
             value="{{ patient['dob'] }}"
             required
             style="width:100%; padding:0.5rem; border:1px solid #ccc; border-radius:4px;">
    </label>
    <label>
      CIN
      <input name="cin"
             value="{{ patient['cin'] }}"
             required
             style="width:100%; padding:0.5rem; border:1px solid #ccc; border-radius:4px;">
    </label>
    <label>
      Date de consultation
      <input type="date" name="date_consult"
             value="{{ patient['date_consult'] }}"
             required
             style="width:100%; padding:0.5rem; border:1px solid #ccc; border-radius:4px;">
    </label>

    <!-- Bouton Enregistrer -->
    <button type="submit"
            style="background:#2F5597; color:#fff; padding:0.5rem; border:none; border-radius:4px; cursor:pointer;">
      Enregistrer
    </button>
  </form>

  <!-- Bouton Supprimer -->
  <form action="{{ url_for('delete_patient', patient_id=patient['id']) }}"
        method="post"
        onsubmit="return confirm('Voulez-vous vraiment supprimer ce patient ?');"
        style="margin-top:1rem; text-align:center;">
    <button type="submit"
            style="background:#BDD7EE; color:#2F5597; padding:0.5rem 1rem; border:none; border-radius:4px; cursor:pointer;">
      Supprimer le patient
    </button>
  </form>

  <!-- Bouton Revenir à la liste -->
  <div style="margin-top:1rem; text-align:center;">
    <a href="{{ url_for('patients') }}"
       style="display:inline-block; background:#9DC3E6; color:#2F5597; padding:0.5rem 1rem; border-radius:4px; text-decoration:none; cursor:pointer;">
      ← Revenir à la liste
    </a>
  </div>
</div>
{% endblock %}
